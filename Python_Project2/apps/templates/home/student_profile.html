{% extends "layouts/base.html" %}

{% block title %} Student Profile {% endblock %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}


{% endblock stylesheets %}

{% block content %}
<div class="pcoded-content">
    <div class="pcoded-inner-content">
        <!-- [ breadcrumb ] start -->
        <div class="page-header">
            <div class="page-block">
                <div class="row align-items-center">
                    <div class="col-md-12">
                        <div class="page-header-title">
                            <h5 class="m-b-10">
                                {% if student %}
                                Update Student
                                {% else %}
                                Insert Student
                                {% endif %}
                            </h5>
                        </div>
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="index.html"><i class="feather icon-home"></i></a></li>
                            <li class="breadcrumb-item"><a href="/student">Student List</a></li>
                            <li class="breadcrumb-item"><a href="javascript:">Student Profile</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- [ breadcrumb ] end -->
        <div class="main-body">
            <div class="page-wrapper">
                <!-- [ Main Content ] start -->
                <div class="col-xl-12">
                    <div class="card">
                        <div class="card-header">
                            <h5>Student Profile</h5>
                        </div>
                        <div class="card-body">
                            {% if msg %}
                            <span class="mb-0 text-muted">
                                {% if not success %}
                                <p class=" text-danger">{{ msg | safe }}</p>
                                {% else %}
                                <p class=" text-success">{{ msg | safe }}</p>
                                {% endif %}
                            </span>
                            <br><br>
                            {% else %}
                            {% endif %}

                            {% if not success %}
                            <form role="form" method="post" action="">
                                <div class="row">
                                    <div class="col-md-6">
                                        {{ form.hidden_tag() }}
                                        <div class="form-group">
                                            {{ form.student_code.label }}
                                            {% if student %}
                                            {{ form.student_code(placeholder="Nhập mã sinh viên", class="form-control",
                                            value=student.student_code) }}
                                            {% else %}
                                            {{ form.student_code(placeholder="Nhập mã sinh viên", class="form-control")
                                            }}
                                            {% endif %}
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-xl-6">
                                                {{ form.first_name.label }}
                                                {% if student %}
                                                {{ form.first_name(placeholder="Nhập tên", class="form-control",
                                                value=student.first_name) }}
                                                {% else %}
                                                {{ form.first_name(placeholder="Nhập tên", class="form-control") }}
                                                {% endif %}
                                            </div>
                                            <div class="form-group col-xl-6">
                                                {{ form.last_name.label }}
                                                {% if student %}
                                                {{ form.last_name(placeholder="Nhập họ đệm", class="form-control",
                                                value=student.last_name) }}
                                                {% else %}
                                                {{ form.last_name(placeholder="Nhập họ đệm", class="form-control") }}
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            {{ form.date_birth.label }}
                                            {% if student %}
                                            {{ form.date_birth(placeholder="Nhập ngày sinh", class="form-control",
                                            value=student.date_birth) }}
                                            {% else %}
                                            {{ form.date_birth(placeholder="Nhập ngày sinh", class="form-control") }}
                                            {% endif %}
                                        </div>
                                        <div class="form-group">
                                            {{ form.email.label }}
                                            {% if student %}
                                            {{ form.email(placeholder="Nhập email", class="input form-control",
                                            type="email", value=student.email) }}
                                            {% else %}
                                            {{ form.email(placeholder="Nhập email", class="input form-control",
                                            type="email") }}
                                            {% endif %}
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="row">
                                            <div class="form-group col-4">
                                                {{ form.xa.label }}
                                                {% if student %}
                                                {{ form.xa(placeholder="Nhập phường/xã", class="form-control",
                                                value=student.xa) }}
                                                {% else %}
                                                {{ form.xa(placeholder="Nhập phường/xã", class="form-control") }}
                                                {% endif %}
                                            </div>
                                            <div class="form-group col-4">
                                                {{ form.quan.label }}
                                                {% if student %}
                                                {{ form.quan(placeholder="Nhập quận/huyện", class="form-control",
                                                value=student.quan) }}
                                                {% else %}
                                                {{ form.quan(placeholder="Nhập quận/huyện", class="form-control") }}
                                                {% endif %}
                                            </div>
                                            <div class="form-group col-4">
                                                {{ form.city.label }}
                                                {% if student %}
                                                {{ form.city(placeholder="Nhập tỉnh/thành phố", class="form-control",
                                                value=student.city) }}
                                                {% else %}
                                                {{ form.city(placeholder="Nhập tỉnh/thành phố", class="form-control") }}
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            {{ form.address.label }}
                                            {% if student %}
                                            {{ form.address(placeholder="Nhập địa chỉ", class="form-control",
                                            value=student.address) }}
                                            {% else %}
                                            {{ form.address(placeholder="Nhập địa chỉ", class="form-control") }}
                                            {% endif %}
                                        </div>
                                        <div class="form-group">
                                            {{ form.phone.label }}
                                            {% if student %}
                                            {{ form.phone(placeholder="Nhập số điện thoại", class="form-control",
                                            value=student.phone) }}
                                            {% else %}
                                            {{ form.phone(placeholder="Nhập số điện thoại", class="form-control") }}
                                            {% endif %}
                                        </div>
                                    </div>
                                    <div class="form-group col-12">
                                        {% if student %}
                                        <button type="submit" name="update_student" value="{{student.id}}"
                                            class="btn btn-primary">Cập nhập</button>
                                        <a href="/camera/{{student.id}}/{{student.student_code}}"
                                            class="btn btn-primary" role="button" aria-pressed="true">Lấy dữ liệu hình
                                            ảnh</a>
                                        {% else %}
                                        <button type="submit" name="new_student" class="btn btn-primary">Thêm
                                            mới</button>
                                        {% endif %}
                                    </div>
                                </div>
                            </form>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <!-- [ Hover-table ] end -->
            <!-- [ Main Content ] end -->
        </div>
    </div>
</div>
</div>
{% endblock content %}

{% block javascripts %}

<script src='https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js'></script>
<script>
    $(document).ready(function () {
        $("#table").DataTable();
    });
</script>

{% endblock javascripts %}